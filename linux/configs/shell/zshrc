# Zsh configuration file
# Load all shell configurations

# Initialize Starship prompt (if available)
if command -v starship &>/dev/null; then
    eval "$(starship init zsh)"
fi

# Load standalone zsh plugins
if [[ -f "$HOME/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" ]]; then
    source "$HOME/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
fi

if [[ -f "$HOME/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh" ]]; then
    source "$HOME/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh"
    ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#666666,bold"
    ZSH_AUTOSUGGEST_STRATEGY=(history completion)
fi

if [[ -d "$HOME/.zsh/plugins/zsh-completions" ]]; then
    fpath=("$HOME/.zsh/plugins/zsh-completions/src" $fpath)
fi

for file in ~/dots/linux/configs/shell/aliases/*; do
    if [[ -f "$file" ]]; then
        source "$file"
    fi
done

# Load zsh-specific configurations
source ~/dots/linux/configs/shell/zsh_exports
source ~/dots/linux/configs/shell/zsh_functions
source ~/dots/linux/configs/shell/zsh_options
# Note: zsh_prompt is replaced by Starship, but kept for compatibility
# source ~/dots/linux/configs/shell/zsh_prompt

# Load colors
source ~/dots/linux/configs/shell/colors/macos/zsh_colors

# Load autocomplete
fpath=(~/dots/linux/configs/shell/autocomplete/macos $fpath)

# Initialize autocomplete
autoload -Uz compinit
compinit

# Load other configurations
source ~/dots/linux/configs/shell/curlrc

# Load keybindings
if [[ -f ~/dots/linux/configs/shell/zsh_keybindings ]]; then
  source ~/dots/linux/configs/shell/zsh_keybindings
fi

# Load zsh_logout
if [[ -f ~/dots/linux/configs/shell/zsh_logout ]]; then
  source ~/dots/linux/configs/shell/zsh_logout
fi
